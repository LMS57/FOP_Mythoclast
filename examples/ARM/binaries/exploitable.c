#include <stdio.h>
#include <stdlib.h>

char *items[10];
int sizes[10];

int get_int(char *s){
	int i = 0;
	printf(s);
	scanf("%d", &i);
	return i;
}

void create(){
	int i = get_int("Index: ");
	int s = get_int("Size: ");
	items[i] = malloc(s);
	sizes[i] = s;
}

void edit (){
	int i = get_int("Index: ");
	printf("Data: ");
	read(0, items[i], sizes[i]);
}

void delete(){
	int i = get_int("Index: ");
	free(items[i]);
}

void print(){
	int i = get_int("Index: ");
	printf("Data: ");
	write(1, items[i], sizes[i]);
}

void print_menu(){
	printf("Menu\n");
	printf("1. Create\n");
	printf("2. Edit\n");
	printf("3. Delete\n");
	printf("4. Print\n");
	printf("0. Exit\n");
}

int main(){

	setvbuf(stdin, 0, 2, 0);
	setvbuf(stdout, 0, 2, 0);
	setvbuf(stderr, 0, 2, 0);

	printf("Hello World: %p\n",system);
	
	while (1){
		print_menu();
		int choice =  get_int("Choice: ");
		switch(choice){
			case 1:
				create();
				break;
			case 2:
				edit();
				break;
			case 3:
				delete();
				break;
			case 4:
				print();
				break;
			default:
				exit(0);
		}
	}	

}
